(this.webpackJsonptraveladvisoryapp=this.webpackJsonptraveladvisoryapp||[]).push([[0],{109:function(e,t,a){e.exports=a(217)},114:function(e,t,a){},138:function(e,t){},140:function(e,t){},172:function(e,t){},173:function(e,t){},217:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(37),o=a.n(l),c=(a(114),a(12)),s=a(13),i=a(14),u=a(15),m=a(29),p=a(21),d=a(31),h=a(104),f=a.n(h),v=a(9),E=a(30),g=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).renderAreaColor=function(e){var t=n.props.tDataList,a="#d6d8db";if(0!==t.length){var r=t[0].filter((function(t){return t.country.indexOf(e.NAME)>-1}));if(0!==r.length)a={red:"#fb655a",yellow:"#ffeeba",orange:"#ff9800",gray:"#d6d8db"}[n.props.sType.filter((function(e){return e.name===r[0].situation}))[0].type]}return a},n.renderLevel=function(e){var t=n.props.tDataList,a="\u66ab\u7121\u8cc7\u8a0a (No Data)";if(0!==t.length){var r=t[0].filter((function(t){return t.country.indexOf(e.NAME)>-1}));if(0!==r.length)a=n.props.sType.filter((function(e){return e.name===r[0].situation}))[0].categroy}return a},n.state={geoUrl:"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json",currentCountryName:"",mapLoading:!0},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return window.store.subscribe((function(){0!==window.store.getState().travelDataArray[0].length&&e.setState({mapLoading:!1})})),r.a.createElement("div",{className:"mapWrap"},r.a.createElement("h3",null,this.props.msg1),r.a.createElement("h3",null,this.props.msg2),r.a.createElement("div",{className:"mapContent"},this.state.mapLoading?r.a.createElement("div",{className:"loadingBlock"},"loading..."):null,r.a.createElement(E.ComposableMap,{"data-tip":"",projectionConfig:{scale:147,rotate:[-10,0,0],height:400}},r.a.createElement(E.Graticule,{stroke:"#dee2e6"}),r.a.createElement(E.Geographies,{geography:this.state.geoUrl},(function(t){return t.geographies.map((function(t){return r.a.createElement(E.Geography,{key:t.rsmKey,geography:t,onMouseEnter:function(){e.props.renderTooltipContent("".concat(t.properties.NAME," - ").concat(e.renderLevel(t.properties)))},onMouseLeave:function(){e.props.renderTooltipContent("")},style:{default:{fill:e.renderAreaColor(t.properties),stroke:"#EAEAEC",outline:"none"},hover:{fill:e.renderAreaColor(t.properties),stroke:"#d4e809",strokeWidth:2,outline:"none"},pressed:{fill:"#E42",outline:"none"}}})}))})))))}}]),a}(r.a.PureComponent);g.defaultProps={msg1:"\u5168\u7403\u65c5\u904a\u8b66\u793a\u5206\u6790\u5730\u5716",msg2:"(Global Travel Advisory Map)"};var b=Object(v.b)((function(e){return{tDataList:e.travelDataArray}}))(g),y=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getLevelValue=function(e){n.props.renderLevel(e.target.value)},n.getAreaValue=function(e){n.props.renderArea(e.target.value)},n.resetInput=function(){n.setState({val:""},(function(){n.props.renderSearch(n.state.val)}))},n.state={val:"",showIndex:0},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){console.log(" search bar props",this.props)}},{key:"handleChange",value:function(e){var t=this;this.setState({val:e.target.value},(function(){t.props.renderSearch(t.state.val)}))}},{key:"handleSubmit",value:function(){""!==this.state.val?console.log("props",this.props.search):alert("\u641c\u7d22\u8cc7\u6599\u70ba\u7a7a")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"searchBarContent row"},r.a.createElement("div",{className:"col-md-6 text-left"},r.a.createElement("label",{htmlFor:"search"},"\u641c\u5c0b (Search)"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",id:"search",className:"form-control",placeholder:"\u8acb\u8f38\u5165\u7be9\u9078\u8cc7\u6599",onChange:this.handleChange.bind(this),value:this.state.val}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-danger",type:"button",onClick:this.resetInput.bind(this)},r.a.createElement(p.a,{icon:"times"}))))),r.a.createElement("div",{className:"col-md-3 text-left"},r.a.createElement("label",{htmlFor:"areaSelect"},"\u72c0\u614b\u7be9\u9078 (Level Filter)"),r.a.createElement("div",{className:"selectWrap"},r.a.createElement("select",{name:"",id:"areaSelect",className:"custom-select",onChange:this.getLevelValue.bind(this)},this.props.warningList.map((function(t,a){return r.a.createElement("option",{key:a,value:t.categroy,defaultValue:a===e.state.showIndex&&t.categroy},t.categroy)}))))),r.a.createElement("div",{className:"col-md-3 text-left"},r.a.createElement("label",{htmlFor:"areaSelect"},"\u5730\u5340\u7be9\u9078 (Area Filter)"),r.a.createElement("div",{className:"selectWrap"},r.a.createElement("select",{name:"",id:"areaSelect",className:"custom-select",onChange:this.getAreaValue.bind(this)},this.props.areaList.map((function(t,a){return r.a.createElement("option",{key:a,value:t,defaultValue:a===e.state.showIndex&&t},t)}))))))}}]),a}(n.PureComponent),w=Object(v.b)(null,{search:function(e){return{type:"SEARCH",searchData:e}}})(y),N=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).renderDataByFilter=function(e){return n.state.sortDateUpToDown?e.sort((function(e,t){return new Date(t.date)-new Date(e.date)})):e.sort((function(e,t){return new Date(e.date)-new Date(t.date)})),n.state.searchStatus?e.filter((function(e){return e.location.indexOf(n.state.searchValue)>-1})):n.state.currentLevel===n.props.sType[0].categroy?e.filter((function(e){return e.area===n.state.currentArea})):e.filter((function(e){return n.renderWarnType(e.situation)[0].categroy===n.state.currentLevel&&e.area===n.state.currentArea}))},n.renderWarnType=function(e){return n.props.sType.filter((function(t){return t.name===e}))},n.filterSearch=function(){0!==n.state.searchValue.length?n.setState({searchStatus:!0}):n.setState({searchStatus:!1})},n.renderSearch=function(e){n.setState({searchValue:e})},n.renderLevel=function(e){n.setState({currentLevel:e})},n.renderArea=function(e){n.setState({currentArea:e})},n.sortSwtich=function(){n.state.sortDateUpToDown?n.setState({sortDateUpToDown:!1}):n.setState({sortDateUpToDown:!0})},n.state={areaList:["\u4e9e\u592a\u5730\u5340","\u4e9e\u897f\u5730\u5340","\u6b50\u6d32\u5730\u5340","\u975e\u6d32\u5730\u5340","\u5317\u7f8e\u5730\u5340","\u62c9\u4e01\u7f8e\u6d32\u66a8\u52a0\u52d2\u6bd4\u6d77\u5730\u5340"],showIndex:0,searchValue:"",currentLevel:n.props.sType[0].categroy,currentArea:"\u4e9e\u592a\u5730\u5340",searchStatus:!1,sortDateUpToDown:!0},n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.searchValue!==this.state.searchValue&&this.filterSearch()}},{key:"render",value:function(){var e=this,t=this.props.tDataList;return r.a.createElement("div",{className:"listBlockWrap"},r.a.createElement(w,{areaList:this.state.areaList,warningList:this.props.sType,renderLevel:this.renderLevel,renderArea:this.renderArea,renderSearch:this.renderSearch}),r.a.createElement("div",{id:"listTableBlock",className:"table-responsive mt-5"},r.a.createElement("table",{className:"table table-bordered table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col",width:"60%"},"\u5730\u5340 ",r.a.createElement("br",null),"(Area)"),r.a.createElement("th",{scope:"col",width:"20%"},"\u72c0\u614b ",r.a.createElement("br",null),"(Level)"),r.a.createElement("th",{scope:"col",width:"20%"},r.a.createElement("div",{className:"dateSortBtn",onClick:this.sortSwtich.bind(this)},r.a.createElement("span",{className:"d-inline-block v-middle"},"\u66f4\u65b0\u65e5\u671f",r.a.createElement("br",null),"(Dated Updated)"),r.a.createElement(p.a,{icon:this.state.sortDateUpToDown?"sort-down":"sort-up",className:"ml-2 v-middle"}))))),r.a.createElement("tbody",null,0===t.length||0===this.renderDataByFilter(t[0]).length?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3"},r.a.createElement("p",null,"\u66ab\u7121\u6578\u64da"))):this.renderDataByFilter(t[0]).map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,r.a.createElement("a",{href:t.link,target:"blank"},t.location)),r.a.createElement("td",{className:e.renderWarnType(t.situation)[0].type+"Bg"},e.renderWarnType(t.situation)[0].categroy),r.a.createElement("td",null,t.date))}))))))}}]),a}(n.PureComponent),D=Object(v.b)((function(e){return{tDataList:e.travelDataArray}}))(N),A=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={grayCount:0,yellowCount:0,OrangeCount:0,redCount:0},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"travelWarnBlock"},r.a.createElement("h4",null,"\u65c5\u904a\u5206\u7d1a\u984f\u8272\u8b66\u793a\u8868(Travel Advisory Levels)"),r.a.createElement("ul",{className:"dangerRangeList list-group"},r.a.createElement("li",{className:"list-group-item list-group-item-secondary"},r.a.createElement("div",{className:"d-inline"},r.a.createElement("p",null,"\u7070\u8272\u8b66\u793a-\u63d0\u9192\u6ce8\u610f"),r.a.createElement("p",null,"Level 1 - Exercise Normal Precautions"))),r.a.createElement("li",{className:"list-group-item list-group-item-warning"},r.a.createElement("div",{className:"d-inline"},r.a.createElement("p",null,"\u9ec3\u8272\u8b66\u793a-\u7279\u5225\u6ce8\u610f\u65c5\u904a\u5b89\u5168\u4e26\u6aa2\u8a0e\u61c9\u5426\u524d\u5f80"),r.a.createElement("p",null,"Level 2 - Exercise Increased Caution"))),r.a.createElement("li",{className:"list-group-item orangeBg"},r.a.createElement("div",{className:"d-inline"},r.a.createElement("p",null,"\u6a59\u8272\u8b66\u793a-\u907f\u514d\u975e\u5fc5\u8981\u65c5\u884c"),r.a.createElement("p",null,"Level 3 - Reconsider Travel"))),r.a.createElement("li",{className:"list-group-item redBg"},r.a.createElement("div",{className:"d-inline"},r.a.createElement("p",null,"\u7d05\u8272\u8b66\u793a-\u4e0d\u5b9c\u524d\u5f80\uff0c\u5b9c\u5118\u901f\u96e2\u5883"),r.a.createElement("p",null,"Level 4 - Do not travel")))))}}]),a}(n.PureComponent),T=Object(v.b)((function(e){return{tDataList:e.travelDataArray}}))(A),L=a(106);m.b.add(d.a,d.d,d.c,d.b);var S=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).renderTooltipContent=function(e){n.setState({toolTipContent:e})},n.state={title1:"\u5168\u7403\u65c5\u904a\u8b66\u793a\u7d71\u8a08",title2:"Global Travel Advisory",toolTipContent:"",situationType:[{type:"gray",categroy:"\u986f\u793a\u5168\u90e8 (Show All)",name:"\u986f\u793a\u5168\u90e8 (Show All)"},{type:"gray",categroy:"\u7070\u8272\u8b66\u793a (Level 1)",name:"\u7070\u8272\u8b66\u793a-\u63d0\u9192\u6ce8\u610f"},{type:"yellow",categroy:"\u9ec3\u8272\u8b66\u793a (Level 2)",name:"\u9ec3\u8272\u8b66\u793a-\u7279\u5225\u6ce8\u610f\u65c5\u904a\u5b89\u5168\u4e26\u6aa2\u8a0e\u61c9\u5426\u524d\u5f80"},{type:"orange",categroy:"\u6a59\u8272\u8b66\u793a (Level 3)",name:"\u6a59\u8272\u8b66\u793a-\u907f\u514d\u975e\u5fc5\u8981\u65c5\u884c"},{type:"red",categroy:"\u7d05\u8272\u8b66\u793a (Level 4)",name:"\u7d05\u8272\u8b66\u793a-\u4e0d\u5b9c\u524d\u5f80\uff0c\u5b9c\u5118\u901f\u96e2\u5883"}]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;f.a.get("https://traveladvisorcrawler.herokuapp.com/crawler").then((function(t){t&&e.props.load_data(t.data)})).catch((function(e){console.log("err",e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"d-inline-block v-middle"},r.a.createElement(p.a,{icon:"plane",className:"fa-2x"})),r.a.createElement("div",{className:"d-inline-block v-middle ml-2"},r.a.createElement("h1",null,this.state.title1),r.a.createElement("p",null,this.state.title2)),r.a.createElement("span",{className:"ver"},"Version 1.0")),r.a.createElement("section",{id:"main",className:"container"},r.a.createElement("div",{className:"row justify-content-center align-items-center text-center"},r.a.createElement("div",{className:"infoBlock col-md-12 mt-5 mb-5 text-left"},r.a.createElement("ul",{className:"infoBlockList"},r.a.createElement("li",null,r.a.createElement("p",null,"\u672c\u7db2\u9801\u7684\u539f\u59cb\u6578\u64da\u6e90\u65bc\u5916\u4ea4\u90e8\u9818\u4e8b\u4e8b\u52d9\u90e8\u570b\u5916\u65c5\u904a\u8b66\u793a\u5206\u7d1a\u8868\uff0c\u800c\u6b64\u6578\u64da\u4e3b\u8981\u63d0\u4f9b\u4f7f\u7528\u8005\u51fa\u570b\u65c5\u884c\u4e4b\u53c3\u8003\u8cc7\u8a0a\uff0c\u5c6c\u53c3\u8003\u6027\u8cea\u4e4b\u5efa\u8b70\uff0c"),r.a.createElement("p",null,"\u53e6\u5916\u672c\u7db2\u9801\u4e3b\u8981\u4e5f\u662f\u57fa\u65bc\u512a\u5316\u539f\u7248\u7db2\u9801\u7684\u4f7f\u7528\u9ad4\u9a57\u70ba\u51fa\u767c\u9ede\u958b\u767c\uff0c\u6027\u8cea\u70ba\u7bc4\u4f8b\u5c55\u793a\uff0c\u6240\u4f7f\u7528\u7684\u5716\u7247\u8207\u6578\u64da\u4f86\u6e90\u9023\u7d50\u4e5f\u6703\u9644\u5728\u7db2\u9801\u6700\u4e0b\u65b9\u3002")),r.a.createElement("li",null,r.a.createElement("p",null,"The original data on this webpage is derived from the Foreign Tourism Warning Classification Table of the Ministry of Foreign Affairs and Consular Affairs, and this data mainly provides reference information for users to travel abroad."),r.a.createElement("p",null,"In addition, this webpage is mainly developed based on optimizing the experience of the original webpage. The nature is shown as an example. The link between the image and the data source used will also be attached to the bottom of the webpage.")))),r.a.createElement("div",{className:"col-md-12 text-left"},r.a.createElement(T,null)),r.a.createElement("div",{className:"col-md-12 mt-5"},r.a.createElement(b,{sType:this.state.situationType,renderTooltipContent:this.renderTooltipContent}),r.a.createElement(L.a,null,this.state.toolTipContent)),r.a.createElement("div",{className:"col-md-12"},r.a.createElement(D,{sType:this.state.situationType})))),r.a.createElement("footer",{className:"text-center"},r.a.createElement("p",null,"\u8cc7\u6599\u4f86\u6e90\u65bc ",r.a.createElement("a",{href:"https://www.boca.gov.tw/sp-trwa-list-1.html",target:"blank"},"\u5916\u4ea4\u90e8\u9818\u4e8b\u4e8b\u52d9\u90e8"),"\uff0c\u6b64\u5c08\u6848\u70ba\u5c55\u793a\u7528\u9014\u3002"),r.a.createElement("p",null,"Reference data from ",r.a.createElement("a",{href:"https://www.boca.gov.tw/mp-2.html",target:"blank"},"Bureau of Consular Affairs, Ministry of Foreign Affairs, Republic of China(Taiwan)")),r.a.createElement("a",{target:"blank",href:"https://icons8.com/icons/set/airplane-front-view"},"Airplane icon")," icon by ",r.a.createElement("a",{target:"blank",href:"https://icons8.com"},"Icons8")))}}]),a}(r.a.PureComponent),k=Object(v.b)(null,{load_data:function(e){return{type:"LOAD_DATA",dataAry:e}}})(S);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=a(22),C=a(108),j={travelData:[]},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.travelData,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_DATA":return[].concat(Object(C.a)(e),[t.dataAry]);case"RESET":return[];case"SEARCH":return[""===t.searchData?e[0]:e[0].filter((function(e){return e.location===t.searchData}))];default:return e}},B=Object(O.b)({travelDataArray:x}),_=Object(O.c)(B,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__());window.store=_,o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v.a,{store:_},r.a.createElement(k,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[109,1,2]]]);
//# sourceMappingURL=main.4d46c888.chunk.js.map
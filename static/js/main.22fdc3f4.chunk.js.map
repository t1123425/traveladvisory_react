{"version":3,"sources":["component/globalMap.js","component/searchBar.js","actions/index.js","constants/actionType.js","component/listTable.js","component/travelWarningBlock.js","App.js","serviceWorker.js","reducers/dataReducer.js","state.js","reducers/index.js","index.js"],"names":["worldMapJson","require","Map","props","renderAreaColor","geoProperties","tdata","tDataList","returnValue","length","selectedCountry","filter","items","country","split","indexOf","name","red","yellow","orange","gray","sType","situation","type","renderLevel","levelInfo","categroy","state","geoUrl","currentCountryName","mapLoading","window","store","subscribe","getState","travelDataArray","setState","className","this","msg1","msg2","status","data-tip","projectionConfig","scale","rotate","height","stroke","geography","geographies","map","geo","key","rsmKey","onMouseEnter","renderTooltipContent","properties","onMouseLeave","style","default","fill","outline","hover","strokeWidth","pressed","React","PureComponent","defaultProps","connect","SearchBar","getLevelValue","e","target","value","getAreaValue","renderArea","resetInput","val","renderSearch","showIndex","htmlFor","id","placeholder","onChange","handleChange","bind","onClick","icon","warningList","index","defaultValue","areaList","search","infoData","searchData","ListTable","renderDataByFilter","array","sortDateUpToDown","sort","a","b","Date","date","searchStatus","location","searchValue","currentLevel","area","currentArea","renderWarnType","filterSearch","childData","sortSwtich","prevProps","prevState","listLi","scope","width","colSpan","href","link","TravelWarningBlock","grayCount","yellowCount","OrangeCount","redCount","library","add","faPlane","faTimes","faSortUp","faSortDown","App","toolTipContent","title1","title2","dataStatus","situationType","loadData","axios","get","process","then","res","load_data","data","catch","err","console","log","message","dataArray","dataAry","Boolean","hostname","match","initialState","travelData","dataReducer","action","allReducers","combineReducers","myStore","createStore","__REDUX_DEVTOOLS_EXTENSION__","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.22fdc3f4.chunk.js","sourcesContent":["import React from 'react';\r\nimport { ComposableMap, Geographies, Geography, Graticule} from \"react-simple-maps\";\r\nimport { connect } from \"react-redux\";\r\nconst worldMapJson = require('../json/world-countries.json')\r\n\r\nclass Map extends React.PureComponent{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            geoUrl:worldMapJson,\r\n            currentCountryName: '',\r\n            mapLoading:true\r\n        };\r\n    }\r\n    static defaultProps = {\r\n        msg1: '全球旅遊警示分析地圖',\r\n        msg2:'(Global Travel Advisory Map)'\r\n    }\r\n    renderAreaColor = geoProperties => {\r\n        let tdata = this.props.tDataList;\r\n        let returnValue = '#d6d8db';\r\n        let colorMap = {\r\n            red:'#fb655a',\r\n            yellow:'#ffeeba',\r\n            orange:'#ff9800',\r\n            gray:'#d6d8db'\r\n        }\r\n        if(tdata.length > 0){\r\n            let selectedCountry = tdata[0].filter((items) =>{\r\n                return items.country && items.country.split(' ')[1].indexOf(geoProperties.name) > -1;\r\n            })\r\n            if(selectedCountry.length > 0){\r\n                let situation = this.props.sType.filter((items) => {\r\n                    return items.name === selectedCountry[0].situation\r\n                })\r\n                returnValue = colorMap[situation[0].type];\r\n            }\r\n        }\r\n        \r\n        return returnValue;\r\n    }\r\n    renderLevel = geoProperties => {\r\n        let tdata = this.props.tDataList;\r\n        let levelInfo = '暫無資訊 (No Data)'\r\n        if(tdata.length > 0){\r\n            let selectedCountry = tdata[0].filter((items) =>{\r\n                return items.country && items.country.indexOf(geoProperties.name) > -1;\r\n            })\r\n            if(selectedCountry.length > 0){\r\n                let situation = this.props.sType.filter((items) => {\r\n                    return items.name === selectedCountry[0].situation\r\n                })\r\n                levelInfo = situation[0].categroy;\r\n            }\r\n\r\n        }\r\n        return levelInfo;\r\n    }\r\n    render(){\r\n        window.store.subscribe(() => {\r\n            //console.log('subscribe data',window.store.getState())\r\n            let storeState = window.store.getState();\r\n            if(storeState.travelDataArray[0].length !== 0) {\r\n                this.setState({mapLoading:false});\r\n            }\r\n        });\r\n\r\n        return (\r\n            <div className=\"mapWrap\">\r\n                <h3>{this.props.msg1}</h3>\r\n                <h3>{this.props.msg2}</h3>\r\n                <div className=\"mapContent\">\r\n                    {\r\n                        this.state.mapLoading ? <div className=\"loadingBlock\">{!this.props.status?'Loading...':this.props.status}</div> : null\r\n                    }\r\n                    <ComposableMap \r\n                        data-tip=\"\"\r\n                        projectionConfig={{\r\n                            scale:147,\r\n                            rotate: [-10, 0, 0],\r\n                            height:400\r\n                        }}>\r\n                        <Graticule stroke=\"#dee2e6\" />\r\n                        <Geographies geography={this.state.geoUrl}>\r\n                            {({ geographies }) =>\r\n                            geographies.map(geo => \r\n                                <Geography \r\n                                key={geo.rsmKey} \r\n                                geography={geo}\r\n                                onMouseEnter={()=>{\r\n                                    this.props.renderTooltipContent(`${geo.properties.name} - ${this.renderLevel(geo.properties)}`);\r\n                                }}\r\n                                onMouseLeave={()=>{\r\n                                    this.props.renderTooltipContent(\"\");\r\n                                }}\r\n                                style={{\r\n                                    default: {\r\n                                    fill: this.renderAreaColor(geo.properties),\r\n                                    stroke:\"#EAEAEC\",\r\n                                    outline: \"none\"\r\n                                    },\r\n                                    hover: {\r\n                                    fill:this.renderAreaColor(geo.properties),\r\n                                    stroke: \"#d4e809\",\r\n                                    strokeWidth: 2,\r\n                                    outline: \"none\"\r\n                                    },\r\n                                    pressed: {\r\n                                    fill: \"#E42\",\r\n                                    outline: \"none\"\r\n                                    }\r\n                                }}\r\n                                />\r\n                                )\r\n                            }\r\n                        </Geographies>\r\n                    </ComposableMap>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst  mapStateToProps =  state => {\r\n    return {\r\n        tDataList:state.travelDataArray\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(Map);","import React, { PureComponent } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {search} from '../actions';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nclass SearchBar extends PureComponent {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            val:'',\r\n            showIndex:0\r\n        }\r\n    }\r\n    handleChange(e) {\r\n        this.setState({\r\n          val: e.target.value\r\n        },()=>{\r\n            this.props.renderSearch(this.state.val);\r\n        });\r\n    }\r\n    getLevelValue = e => {\r\n        this.props.renderLevel(e.target.value);\r\n    }\r\n    getAreaValue = e => {\r\n        this.props.renderArea(e.target.value);\r\n    }\r\n    resetInput = () => {\r\n        this.setState({\r\n            val:''\r\n        },()=>{\r\n            this.props.renderSearch(this.state.val);\r\n        })\r\n    }\r\n    render(){\r\n        return (\r\n            <div className=\"searchBarContent row\">\r\n                 <div className=\"col-md-6 text-left\">\r\n                    <label htmlFor=\"search\">搜尋 (Search)</label>\r\n                    <div className=\"input-group\">\r\n                        <input type=\"text\" id=\"search\" className=\"form-control\" placeholder=\"請輸入篩選資料\" onChange={this.handleChange.bind(this)} value={this.state.val}/>\r\n                        <div className=\"input-group-append\">\r\n                            <button className=\"btn btn-danger\" type=\"button\" onClick={this.resetInput.bind(this)}>\r\n                             <FontAwesomeIcon icon=\"times\"></FontAwesomeIcon>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                 </div>\r\n                 <div className=\"col-md-3 text-left\">\r\n                    <label htmlFor=\"areaSelect\">狀態篩選 (Level Filter)</label>\r\n                    <div className=\"selectWrap\">\r\n                        <select name=\"\" id=\"areaSelect\" className=\"custom-select\" onChange={this.getLevelValue.bind(this)}>\r\n                            {\r\n                                this.props.warningList.map((items, index) =>(\r\n                                    <option key={index} value={items.categroy} defaultValue={index === this.state.showIndex && items.categroy}>{items.categroy}</option>\r\n                                ))\r\n                            }\r\n                        </select>\r\n                    </div>\r\n                 </div>\r\n                 <div className=\"col-md-3 text-left\">\r\n                    <label htmlFor=\"areaSelect\">地區篩選 (Area Filter)</label>\r\n                    <div className=\"selectWrap\">\r\n                        <select name=\"\" id=\"areaSelect\" className=\"custom-select\" onChange={this.getAreaValue.bind(this)}>\r\n                            {\r\n                                this.props.areaList.map((items, index) =>(\r\n                                    <option key={index} value={items} defaultValue={index === this.state.showIndex && items}>{items}</option>\r\n                                ))\r\n                            }\r\n                        </select>\r\n                    </div>\r\n                 </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(null,{search})(SearchBar);","import {INCREMENT,DECREMENT,ADD,SEARCH,RESET,LOAD_DATA} from '../constants/actionType';\r\nexport const increment = () => {\r\n    return {\r\n        type: INCREMENT\r\n    };\r\n};\r\n\r\nexport const decrement = () => {\r\n    return {\r\n        type: DECREMENT\r\n    };\r\n};\r\n\r\nexport const search = infoData => {\r\n    return {\r\n        type:SEARCH,\r\n        searchData:infoData\r\n    }\r\n}\r\nexport const reset = () => {\r\n    return {\r\n        type:RESET\r\n    }\r\n}\r\nexport const load_data = dataArray => {\r\n    return {\r\n        type:LOAD_DATA,\r\n        dataAry:dataArray\r\n    }\r\n}\r\n\r\nexport const add = () => {\r\n    return {\r\n        type:ADD\r\n    }\r\n}\r\n\r\n\r\n","export const INCREMENT = 'INCREMENT';\r\nexport const DECREMENT = 'DECREMENT';\r\nexport const ADD = 'ADD';\r\nexport const SEARCH = 'SEARCH';\r\nexport const RESET = 'RESET';\r\nexport const LOAD_DATA = 'LOAD_DATA';","import React, { PureComponent } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport SearchBar from \"./searchBar\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nclass ListTable extends PureComponent {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            areaList:['亞太地區','亞西地區','歐洲地區','非洲地區','北美地區','拉丁美洲暨加勒比海地區'],\r\n            showIndex:0,\r\n            searchValue:'',\r\n            currentLevel: this.props.sType[0].categroy,\r\n            currentArea: '亞太地區',\r\n            searchStatus:false,\r\n            sortDateUpToDown:true\r\n        }\r\n    }\r\n    renderDataByFilter = array =>{\r\n        let returnAry = [];\r\n        if(this.state.sortDateUpToDown){\r\n            array.sort((a,b) =>{\r\n                return new Date(b.date) - new Date(a.date);\r\n            })      \r\n        }else{\r\n            array.sort((a,b) =>{\r\n                return new Date(a.date) - new Date(b.date);\r\n            })  \r\n        }\r\n        if(this.state.searchStatus){\r\n            returnAry = array.filter((items) => {\r\n                return items.location.indexOf(this.state.searchValue)  > -1; \r\n            });\r\n        }else{\r\n            if(this.state.currentLevel === this.props.sType[0].categroy){\r\n                returnAry = array.filter((items) => {\r\n                    return items.area === this.state.currentArea;   \r\n                });\r\n            }else{\r\n                returnAry = array.filter((items) => {\r\n                    return this.renderWarnType(items.situation)[0].categroy === this.state.currentLevel && items.area === this.state.currentArea;   \r\n                });\r\n            }\r\n        }\r\n        return returnAry;\r\n    }\r\n    renderWarnType = type => {\r\n       let returnType = {};\r\n       returnType = this.props.sType.filter((items) => {\r\n            return items.name === type;\r\n        })\r\n        return returnType;\r\n    }\r\n    filterSearch = () => {\r\n        this.setState({searchStatus:this.state.searchValue.length > 0});\r\n    }\r\n    renderSearch = childData => {\r\n        this.setState({searchValue:childData});\r\n    }\r\n    renderLevel = childData => {\r\n        this.setState({currentLevel:childData});\r\n    }\r\n    renderArea = childData => {\r\n        this.setState({currentArea:childData});\r\n    }\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if(prevState.searchValue !== this.state.searchValue){\r\n            this.filterSearch();\r\n        }\r\n    }\r\n    sortSwtich = () => {\r\n        if(this.state.sortDateUpToDown){\r\n            this.setState({sortDateUpToDown:false});\r\n        }else{\r\n            this.setState({sortDateUpToDown:true});\r\n        }\r\n    }\r\n    render(){\r\n        let listLi = this.props.tDataList;\r\n        return(\r\n            <div className=\"listBlockWrap\">\r\n                <SearchBar areaList={this.state.areaList} warningList={this.props.sType} renderLevel={this.renderLevel} renderArea={this.renderArea} renderSearch={this.renderSearch}  />\r\n                <div id=\"listTableBlock\" className=\"table-responsive mt-5\">\r\n                  <table className=\"table table-bordered table-hover\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\" width=\"60%\">\r\n                                地區 <br/>\r\n                                (Area)\r\n                            </th>\r\n                            <th scope=\"col\" width=\"20%\">\r\n                                狀態 <br/>\r\n                                (Level)\r\n                            </th>\r\n                            <th scope=\"col\" width=\"20%\">\r\n                                <div className=\"dateSortBtn\" onClick={this.sortSwtich.bind(this)}>\r\n                                    <span className=\"d-inline-block v-middle\">\r\n                                        更新日期<br/>\r\n                                        (Dated Updated)\r\n                                    </span>\r\n                                    <FontAwesomeIcon icon={this.state.sortDateUpToDown?'sort-down':'sort-up'} className=\"ml-2 v-middle\"></FontAwesomeIcon>\r\n                                </div>\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            listLi.length === 0 || this.renderDataByFilter(listLi[0]).length === 0 ?\r\n                            <tr>\r\n                                <td colSpan=\"3\">\r\n                                    <p>暫無數據</p>\r\n                                </td>\r\n                            </tr> :\r\n                           this.renderDataByFilter(listLi[0]).map((items,index) => (\r\n                            <tr key={index}>\r\n                                 <td>\r\n                                    <a href={items.link} target=\"blank\">{items.location}</a>\r\n                                </td>\r\n                                <td className={this.renderWarnType(items.situation)[0].type+'Bg'}>\r\n                                    {this.renderWarnType(items.situation)[0].categroy}\r\n                                </td>\r\n                                <td>\r\n                                    {items.date}\r\n                                </td>\r\n                            </tr>\r\n                           ))\r\n                        }\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst  mapStateToProps =  state => {\r\n    return {\r\n        tDataList:state.travelDataArray\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(ListTable);","import React, { PureComponent } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass TravelWarningBlock extends PureComponent{\r\n    state = {\r\n        grayCount:0,\r\n        yellowCount:0,\r\n        OrangeCount:0,\r\n        redCount:0\r\n    }\r\n    render(){\r\n        return(\r\n            <div className=\"travelWarnBlock\">\r\n                <h4>旅遊分級顏色警示表(Travel Advisory Levels)</h4>\r\n                <ul className=\"dangerRangeList list-group\">\r\n                    <li className=\"list-group-item list-group-item-secondary\">\r\n                        <div className=\"d-inline\">\r\n                            <p>灰色警示-提醒注意</p>\r\n                            <p>Level 1 - Exercise Normal Precautions</p>\r\n                        </div>\r\n                    </li>\r\n                    <li className=\"list-group-item list-group-item-warning\">\r\n                        <div className=\"d-inline\">\r\n                            <p>黃色警示-特別注意旅遊安全並檢討應否前往</p>\r\n                            <p>Level 2 - Exercise Increased Caution</p>\r\n                        </div>\r\n                    </li>\r\n                    <li className=\"list-group-item orangeBg\">\r\n                        <div className=\"d-inline\">\r\n                            <p>橙色警示-避免非必要旅行</p>\r\n                            <p>Level 3 - Reconsider Travel</p>\r\n                        </div>\r\n                    \r\n                    </li>\r\n                    <li className=\"list-group-item redBg\">\r\n                        <div className=\"d-inline\">\r\n                            <p>紅色警示-不宜前往，宜儘速離境</p>\r\n                            <p>Level 4 - Do not travel</p>\r\n                        </div>\r\n                    \r\n                    </li>\r\n              </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst  mapStateToProps =  state => {\r\n    return {\r\n        tDataList:state.travelDataArray\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(TravelWarningBlock)","import React from 'react';\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faPlane,faTimes,faSortUp,faSortDown} from '@fortawesome/free-solid-svg-icons'\nimport axios from 'axios';\nimport { connect } from \"react-redux\";\nimport {load_data} from './actions';\nimport Map from './component/globalMap';\nimport ListTable from './component/listTable';\nimport TravelWarningBlock from './component/travelWarningBlock';\nimport ReactTooltip from \"react-tooltip\";\n\nlibrary.add(faPlane,faTimes,faSortUp,faSortDown);\n\n\nclass App extends React.PureComponent{\n  constructor(props){\n    super(props);\n    this.state = {\n      title1:'全球旅遊警示統計',\n      title2:'Global Travel Advisory',\n      toolTipContent:'',\n      dataStatus:'',\n      situationType:[\n          {\n            type:'gray',\n            categroy:'顯示全部 (Show All)',\n            name:'顯示全部 (Show All)'\n          },\n          {\n              type:'gray',\n              categroy:'灰色警示 (Level 1)',\n              name:'灰色警示-提醒注意'\n          },\n          {\n              type:'yellow',\n              categroy: '黃色警示 (Level 2)',\n              name: '黃色警示-特別注意旅遊安全並檢討應否前往'\n          },\n          {\n              type: 'orange',\n              categroy: '橙色警示 (Level 3)',\n              name: '橙色警示-避免非必要旅行'\n          },\n          {\n              type: 'red',\n              categroy: '紅色警示 (Level 4)',\n              name: '紅色警示-不宜前往，宜儘速離境'\n          }\n      ]\n    }\n  }\n  renderTooltipContent = childData => {\n    this.setState({toolTipContent:childData})\n  }\n  componentDidMount(){\n    this.loadData();\n  }\n  loadData(){\n    axios.get(process.env.REACT_APP_API_URL).then(res => {\n      if(res){\n        //console.log('res',res);\n        this.props.load_data(res.data);\n      }\n    }).catch(err => {\n      console.log('err',err);\n      this.setState({dataStatus:err.message})\n    })    \n  }\n  render(){\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <div className=\"d-inline-block v-middle\">\n            <FontAwesomeIcon icon=\"plane\" className=\"fa-2x\" />\n          </div>\n          <div className=\"d-inline-block v-middle ml-2\">\n             <h1>{this.state.title1}</h1>\n             <p>{this.state.title2}</p>\n          </div>\n          <span className=\"ver\">Version 1.5</span>\n        </header>\n        <section id=\"main\" className=\"container\">\n          <div className=\"row justify-content-center align-items-center text-center\">\n            <div className=\"infoBlock col-md-12 mt-5 mb-5 text-left\">\n              <ul className=\"infoBlockList\">\n                <li>\n                  <p>本網頁的原始數據源於外交部領事事務部國外旅遊警示分級表，而此數據主要提供使用者出國旅行之參考資訊，屬參考性質之建議，</p>\n                  <p>另外本網頁主要也是基於優化原版網頁的使用體驗為出發點開發，性質為範例展示，所使用的圖片與數據來源連結也會附在網頁最下方。</p>\n                </li>\n                <li>\n                  <p>The original data on this webpage is derived from the Foreign Tourism Warning Classification Table of the Ministry of Foreign Affairs and Consular Affairs, and this data mainly provides reference information for users to travel abroad.</p>\n                  <p>In addition, this webpage is mainly developed based on optimizing the experience of the original webpage. The nature is shown as an example. The link between the image and the data source used will also be attached to the bottom of the webpage.</p>\n                </li>\n              </ul>\n            </div>\n            <div className=\"col-md-12 text-left\">\n              <TravelWarningBlock />\n            </div>\n            <div className=\"col-md-12 mt-5\">\n              <Map sType={this.state.situationType} status={this.state.dataStatus} renderTooltipContent={this.renderTooltipContent}></Map>\n              <ReactTooltip>{this.state.toolTipContent}</ReactTooltip>\n            </div>\n            <div className=\"col-md-12\">\n              <ListTable sType={this.state.situationType} />\n            </div>\n          </div>\n        </section>\n        <footer className=\"text-center\">\n          <p>資料來源於 <a href=\"https://www.boca.gov.tw/sp-trwa-list-1.html\" target=\"blank\">外交部領事事務部</a>，此專案為展示用途。</p>\n          <p>Reference data from <a href=\"https://www.boca.gov.tw/mp-2.html\" target=\"blank\">Bureau of Consular Affairs, Ministry of Foreign Affairs, Republic of China(Taiwan)</a></p>\n          <a target=\"blank\" href=\"https://icons8.com/icons/set/airplane-front-view\">Airplane icon</a> icon by <a target=\"blank\" href=\"https://icons8.com\">Icons8</a>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default connect(null,{load_data})(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import State from '../state.js';\r\nimport {LOAD_DATA,SEARCH,RESET} from '../constants/actionType';\r\nconst initialState = State;\r\nconst dataReducer = (state = initialState.travelData, action) => {\r\n    switch(action.type){\r\n        case LOAD_DATA:\r\n            return [...state, action.dataAry];\r\n        case RESET:\r\n            return [];\r\n        case SEARCH:\r\n            let filterArray = [];\r\n            if(action.searchData === ''){\r\n                filterArray = state[0];\r\n            }else{\r\n                filterArray = state[0].filter((items) => {\r\n                    return items.location === action.searchData\r\n                });\r\n            }\r\n            return[filterArray];\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default dataReducer;","const state = {\r\n    travelData:[]\r\n}\r\nexport default state;","import dataReducer from './dataReducer';\r\nimport {combineReducers} from 'redux';\r\n\r\nconst allReducers = combineReducers({\r\n    travelDataArray:dataReducer\r\n})\r\n\r\nexport default allReducers;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/custom.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {createStore} from 'redux';\nimport allReducers from './reducers';\nimport {Provider} from 'react-redux';\n\n//window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()為redux extenion套件需要所用\nconst myStore = createStore(allReducers,window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__());\n\nwindow.store = myStore;\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={myStore}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}